# Обзор проекта

Основная цель проекта — взаимодействие с сервисом кошелька, управление подключениями к базе данных.

## Структура проекта
```
├── config.py # Конфигурационные настройки приложения
├── database.py # Логика подключения к базе данных 
├── docker-compose.yml # Файл Docker Compose для запуска многоконтейнерной среды 
├── Dockerfile # Dockerfile для сборки образа приложения 
├── Dockerfile.liquibase # Dockerfile для контейнера с Liquibase 
├── liquibase.properties # Конфигурационный файл для Liquibase 
├── locustfile.py # Файл Locust для нагрузочного тестирования 
├── main.py # Основной файл для запуска приложения 
├── migrations # Файлы миграций базы данных 
│   └── db.changelog-master.yaml   
├── README.md # Этот файл 
├── requirements.txt # Зависимости Python 
└── wallet # Файлы, связанные с сервисом кошелька 
    ├── models.py # Модели для сервиса кошелька 
    ├── routers.py # API роутеры для сервиса кошелька 
    ├── schemas.py # Схемы для валидации данных 
    └── wallet_service.py # Логика работы с кошельком

```


## Установка

### Пререквизиты

- Python 3.11 и выше
- Docker и Docker Compose

### Установка зависимостей

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/gigabait15/WalletFastAPI
   cd .
   ```
2. Установите зависимости Python:
    ```bash
    pip install -r requirements.txt
    ```

## Настройка Docker
Для сборки и запуска проекта с использованием Docker можно использовать файл docker-compose.yml.

Соберите Docker-образы:

```bash
docker-compose build
```
Запустите приложение и связанные сервисы (например, базу данных, Liquibase и т. д.):

```bash
docker-compose up
```

## Миграции Liquibase
Liquibase используется для управления схемой базы данных. Файлы миграций находятся в папке migrations.

Главный файл миграций — migrations/db.changelog-master.yaml.
Для выполнения миграций можно использовать контейнер из Dockerfile.liquibase.
## Нагрузочное тестирование
В проекте используется Locust для нагрузочного тестирования. Конфигурация теста находится в файле locustfile.py. Для запуска тестирования выполните команду:

```bash
locust -f locustfile.py
```
После этого можно будет открыть веб-интерфейс для настройки и запуска тестов на локальном хосте по адресу http://localhost:8089.

## Запуска проекта
1. Создать и записать данные в файл .env
2. выполнить команду
   ```bash
   uvicorn main:app --reload
   ```
   
## Прочее
файл fix-bag одержит информацию по тем моментам, которые я не смог победить или вообще не знаю их, оставил, чтобы позже к ним вернуться